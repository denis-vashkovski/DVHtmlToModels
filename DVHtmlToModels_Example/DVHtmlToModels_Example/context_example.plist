<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>url</key>
	<string>https://dl.dropboxusercontent.com/s/kcyfoj5yv4c9v8z/dv_html_to_models_example.html</string>
	<key>data</key>
	<array>
		<dict>
			<key>xPathRoot</key>
			<string>//div[@class=&apos;section&apos;]</string>
			<key>className</key>
			<string>SectionObject</string>
			<key>fields</key>
			<array>
				<dict>
					<key>name</key>
					<string>title</string>
					<key>result</key>
					<array>
						<dict>
							<key>xPath</key>
							<string>//div/div[@class=&apos;title&apos;]/h2/a</string>
						</dict>
					</array>
				</dict>
				<dict>
					<key>name</key>
					<string>products</string>
					<key>result</key>
					<array>
						<dict>
							<key>data</key>
							<dict>
								<key>xPathRoot</key>
								<string>//div/div[@id=&apos;product&apos;]</string>
								<key>className</key>
								<string>ProductObject</string>
								<key>fields</key>
								<array>
									<dict>
										<key>name</key>
										<string>uniqueId</string>
										<key>result</key>
										<array>
											<dict>
												<key>xPath</key>
												<string>//a | //div/div[@class=&apos;class1&apos;]/a</string>
												<key>attribute</key>
												<string>href</string>
												<key>regex</key>
												<string>(\d+).html</string>
											</dict>
										</array>
									</dict>
									<dict>
										<key>name</key>
										<string>title</string>
										<key>result</key>
										<array>
											<dict>
												<key>xPath</key>
												<string>//a | //div/div[@class=&apos;class1&apos;]/a</string>
												<key>attribute</key>
												<string>title</string>
											</dict>
										</array>
									</dict>
									<dict>
										<key>name</key>
										<string>photoUrl</string>
										<key>result</key>
										<array>
											<dict>
												<key>xPath</key>
												<string>//a</string>
												<key>attribute</key>
												<string>style</string>
												<key>regex</key>
												<string>background\: url\(\&apos;([^\&apos;\)]*)</string>
												<key>formats</key>
												<array>
													<dict>
														<key>conditions</key>
														<array>
															<dict>
																<key>regex</key>
																<string>^http</string>
																<key>negative</key>
																<true/>
															</dict>
														</array>
														<key>format</key>
														<string>http://example.com%@</string>
													</dict>
												</array>
											</dict>
											<dict>
												<key>xPath</key>
												<string>//div/div[@class=&apos;class1&apos;]/a/img</string>
												<key>attribute</key>
                                                <string>src</string>
                                                <key>formats</key>
                                                <array>
                                                    <dict>
                                                        <key>type</key>
                                                        <string>encoding</string>
                                                    </dict>
                                                </array>
											</dict>
										</array>
									</dict>
									<dict>
										<key>name</key>
										<string>author</string>
										<key>result</key>
										<array>
											<dict>
												<key>xPath</key>
												<string>//div/p[@class=&apos;author&apos;]/span</string>
											</dict>
										</array>
									</dict>
									<dict>
										<key>name</key>
										<string>createdAt</string>
										<key>result</key>
										<array>
											<dict>
												<key>xPath</key>
												<string>//div[@id=&apos;date&apos;]/a</string>
												<key>formats</key>
												<array>
													<dict>
														<key>type</key>
														<string>date</string>
														<key>format</key>
														<string>dd.MM.yyyy</string>
													</dict>
												</array>
											</dict>
										</array>
									</dict>
									<dict>
										<key>name</key>
										<string>price</string>
										<key>result</key>
										<array>
											<dict>
												<key>data</key>
												<dict>
													<key>xPathRoot</key>
													<string>//div/p[2]</string>
													<key>className</key>
													<string>PriceObject</string>
													<key>fields</key>
													<array>
														<dict>
															<key>name</key>
															<string>discount</string>
															<key>result</key>
															<array>
																<dict>
																	<key>xPath</key>
																	<string>//small[@class=&apos;discount&apos;]</string>
																	<key>regex</key>
																	<string>\d+</string>
																</dict>
															</array>
														</dict>
														<dict>
															<key>name</key>
															<string>price</string>
															<key>result</key>
															<array>
																<dict>
																	<key>xPath</key>
                                                                    <string>//a[2]</string>
                                                                    <key>regex</key>
                                                                    <string>\d+,\d+</string>
                                                                    <key>formats</key>
                                                                    <array>
                                                                        <dict>
                                                                            <key>type</key>
                                                                            <string>replace</string>
                                                                            <key>regex</key>
                                                                            <string>(\d+),(\d+)</string>
                                                                            <key>format</key>
                                                                            <string>$1.$2</string>
                                                                        </dict>
                                                                    </array>
																</dict>
															</array>
														</dict>
														<dict>
															<key>name</key>
															<string>currency</string>
															<key>result</key>
															<array>
																<dict>
																	<key>xPath</key>
																	<string>//a[2]/small</string>
																</dict>
															</array>
														</dict>
													</array>
												</dict>
											</dict>
										</array>
									</dict>
                                    <dict>
                                        <key>name</key>
                                        <string>isNew</string>
                                        <key>result</key>
                                        <array>
                                            <dict>
                                                <key>xPath</key>
                                                <string>//div/p[@class=&apos;author&apos;]/span</string>
                                                <key>regex</key>
                                                <string>[^_]+_author_1_1</string>
                                                <key>value</key>
                                                <string>1</string>
                                            </dict>
                                        </array>
                                    </dict>
                                    <dict>
                                        <key>name</key>
                                        <string>text</string>
                                        <key>result</key>
                                        <array>
                                            <dict>
                                                <key>results</key>
                                                <array>
                                                    <dict>
                                                        <key>xPath</key>
                                                        <string>//div[@class='text']</string>
                                                    </dict>
                                                    <dict>
                                                        <key>xPath</key>
                                                        <string>//ul/li[1]</string>
                                                        <key>attribute</key>
                                                        <string>text</string>
                                                    </dict>
                                                </array>
                                                <key>separator</key>
                                                <string> + </string>
                                            </dict>
                                        </array>
                                    </dict>
								</array>
							</dict>
						</dict>
					</array>
				</dict>
			</array>
		</dict>
	</array>
</dict>
</plist>
